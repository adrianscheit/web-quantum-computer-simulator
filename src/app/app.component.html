<section *ngIf="prod" style="position:fixed;top:0;right:0;bottom:0;left:0;background-color: #FFF;">
    <h1>Page under development</h1>
</section>

<section>
    <h1>Quantum Computer Simulator in Your browser!</h1>
    <ul>
        <li>Quantum computer simultor implementation, free for use for everyone.</li>
        <li>Initally all qubits are |0)</li>
        <li>The simulation uses Gates ??? model</li>
        <li>Your program is not send to the server - it is all local</li>
        <li>Clear UI</li>
    </ul>

    <div [hidden]="cookiesEnabled">
        To save your program in your browser you have to accept cookies:
        <button (click)="enableCookies()">Agree</button>
    </div>
    <div [hidden]="!cookiesEnabled">
        You agreed that this page is using cookies! If you want to revoke it:
        <button (click)="disableCookies()">Revoke cookies</button>
    </div>
</section>

<section>
    <h2>Program in list of quantum operations:</h2>
    <table>
        <tbody>
            <tr>
                <th>Operation#</th>
                <th>Gate type</th>
                <th>Connected Qubits</th>
            </tr>
            <tr *ngFor="let operation of program; let i=index">
                <td>#{{i}}</td>
                <td>{{operation.gateName}}</td>
                <td>{{getOperationQubitIndexes(operation)}}</td>
                <td>
                    <button (click)="addOperation(i,0)">Add before</button>
                    <button (click)="editOperation(operation)">Edit</button>
                    <button (click)="deleteOperation(i)">Delete</button>
                </td>
            </tr>
            <tr>
                <td colspan="3">
                    <button (click)="addOperation(program.length,0)">Add new operation</button>
                </td>
            </tr>
        </tbody>
    </table>
</section>

<section>
    <h2>Program in 2D representation:</h2>
    <table>
        <tbody>
            <tr>
                <th>Step#</th>
                <th *ngFor="let i of getIndexes(qubitsQuantity)">
                    Q{{i}}
                    <button (click)="deleteQubit(i)">Delete</button>
                </th>
            </tr>
            <tr *ngFor="let step of programGUI; let i=index ">
                <td>#{{i}}</td>
                <td *ngFor="let guiGate of step; let j=index" [colspan]=1>
                    <app-gate [gate]="guiGate" (click)="changeOperation(guiGate, i,j)"></app-gate>
                </td>
                <td>
                    <button (click)="addStep(i)">Add step before</button>
                    <button (click)="deleteStep(i) ">Delete step</button>
                </td>
            </tr>
        </tbody>
    </table>

    <button (click)="cleanUp()">Clean-up!</button>
    <button (click)="complem()">Complementary the program</button>
    <button (click)="simulate()">Simulate</button>
</section>

<section>
    <h2>Here is your quantum program in JSON:</h2>
    <textarea (change)="jsonChange($event.target.value)" [value]="programJson"></textarea>
    <button (click)="simulate()">Simulate)</button>
</section>

<section>
    <h2>Results:</h2>
    <section *ngFor="let result of results">
        <h3>Sumulation #{{result.id+1}}</h3>
        <ul>
            <li>Simulation started {{result.startTime | date}}</li>
            <li>Number of Qubits: {{result.qubitsQuantity}}</li>
            <li>Progress: {{result.progress*100 | number:'.1-2'}}%</li>
            <li *ngIf="result.results">End time: {{result.endTime | date}}</li>
        </ul>
        <table *ngIf="result.results">
            <tbody>
                <tr>
                    <th>Propabilities:</th>
                    <th *ngFor="let i of getIndexes(result.qubitsQuantity)">Q{{i}}</th>
                </tr>
                <tr *ngFor="let r of result.results">
                    <td>{{r.propability * 100 | number:'.0-1'}}%</td>
                    <td *ngFor="let qv of r.state">{{qv?1:0}}</td>
                </tr>
            </tbody>
        </table>
    </section>
</section>

<section>
    <h2>All avaliable gates:</h2>
    <div class="flex">
        <app-gate-view *ngFor="let gate of gates" [gate]="gate"></app-gate-view>
    </div>
</section>

<section>
    <h2>Feedback</h2>
    <textarea></textarea>
    <button>Submit!</button>
</section>

<app-operation [operation]="currentOperation" (exit)="exitOperation()"></app-operation>
