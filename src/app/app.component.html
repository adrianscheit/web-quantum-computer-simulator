<section *ngIf="prod" style="position:fixed;top:0;right:0;bottom:0;left:0;background-color: #FFF;">
    <h1>Page under development</h1>
</section>

<section>
    <h1>Quantum Computer Simulator in Your browser!</h1>
    Quantum computer simultor implementation, free for use for everyone.
    <div [hidden]="cookiesEnabled">
        To save your program in your browser you have to accept cookies:
        <button (click)="enableCookies()">Agree</button>
    </div>
    <div [hidden]="!cookiesEnabled">
        You agreed that this page is using cookies! If you want to revoke it:
        <button (click)="disableCookies()">Revoke cookies</button>
    </div>
</section>

<section>
    <h2>Here is your program in GUI:</h2>

    <ul>
        <li>Initally all qubits are |0)</li>
        <li>The simulation uses ??? model</li>
        <li>Your program is not send to the server - it is all local</li>
        <li>???</li>
    </ul>
    Default gate: <app-gate [gateName]="defaultGateName" (selectGateName)="defaultGateName=$event"></app-gate>

    <table>
        <tbody>
            <tr>
                <th>Step#</th>
                <th *ngFor="let i of qubitsIndexes">Q{{i}}<button (click)="deleteQubit(i)">Delete</button></th>
                <th>
                    <button (click)="addQubit()">Add qubit</button>
                </th>
            </tr>
            <tr *ngFor="let step of programGUI; let i=index ">
                <td>#{{i}}</td>
                <td *ngFor="let gateName of step; let j=index" [colspan]=1>
                    <app-gate [gateName]="gateName" (selectGateName)="selectGate($event, i, j)"></app-gate>
                </td>
                <td><button (click)="deleteStep(i) ">Delete step</button></td>
            </tr>
            <tr>
                <td [colSpan]="qubitsIndexes.length+2 ">
                    <button style="width: 100%; " (click)=" addStep() ">Add step</button>
                </td>
            </tr>
        </tbody>
    </table>

    <button (click)="null">Clean-up!</button>
    <button (click)="null">Complementary the program</button>
</section>

<section>
    <h2>Here is your quantum program in JSON:</h2>
    <textarea>{{programJson}}</textarea>
</section>

<section>
    <h2>Results:</h2>
    <section *ngFor="let result of results">
        <h3>Simulation started {{result.startTime}}, end time: {{result.endTime}}</h3>
        <div class="progress-bar">
            <div class="progress absolute" [style.width]="result.progress*100 + '%' "></div>
            <span *ngIf=progress class="progress-text ">Progress: {{result.progress*100|number:'.1-1'}}%</span>
        </div>
        <table>
            <tbody>
                <tr>
                    <th>
                        Propabilities:
                    </th>
                    <th [colSpan]="result.qubitsQuantity">
                        Results:
                    </th>
                </tr>
                <tr *ngFor="let r of result.results">
                    <td>{{r.propability * 100 | number:'.0-1'}}%</td>
                    <td *ngFor="let qv of r.state">{{qv?1:0}}</td>
                </tr>
            </tbody>
        </table>
    </section>
</section>

<section>
    <h2>All avaliable gates:</h2>
    <div class="flex">
        <app-gate-view *ngFor="let gate of gates" [gate]="gate"></app-gate-view>
    </div>
</section>


<section>
    <h2>Feedback</h2>
    <textarea></textarea>
    <button>Submit!</button>
</section>

<section class="fixed-bottom ">

    <button (click)="simulate()">Simulate (shortcut TBD)</button>
</section>
